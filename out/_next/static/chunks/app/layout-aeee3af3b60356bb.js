(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[177],{347:()=>{},928:(e,t,s)=>{"use strict";s.d(t,{CatalogProvider:()=>a});var r=s(5155);let l=(0,s(2115).createContext)({productTypes:[]}),a=e=>{let{children:t,productTypes:s}=e;return(0,r.jsx)(l.Provider,{value:{productTypes:s},children:t})}},6368:(e,t,s)=>{Promise.resolve().then(s.t.bind(s,3063,23)),Promise.resolve().then(s.t.bind(s,4147,23)),Promise.resolve().then(s.t.bind(s,8489,23)),Promise.resolve().then(s.bind(s,1530)),Promise.resolve().then(s.t.bind(s,6298,23)),Promise.resolve().then(s.t.bind(s,1821,23)),Promise.resolve().then(s.bind(s,928)),Promise.resolve().then(s.t.bind(s,347,23)),Promise.resolve().then(s.bind(s,8158)),Promise.resolve().then(s.bind(s,9576)),Promise.resolve().then(s.bind(s,8088))},8088:(e,t,s)=>{"use strict";s.d(t,{CartProvider:()=>n,_:()=>i});var r=s(5155),l=s(2115);let a=(0,l.createContext)(void 0),n=e=>{let{children:t}=e,[s,n]=(0,l.useState)([]),[i,o]=(0,l.useState)(!1);return(0,l.useEffect)(()=>{let e=localStorage.getItem("cart");if(e)try{n(JSON.parse(e))}catch(e){console.error("Failed to parse cart from local storage",e)}o(!0)},[]),(0,l.useEffect)(()=>{localStorage.setItem("cart",JSON.stringify(s))},[s]),(0,r.jsx)(a.Provider,{value:{items:s,addToCart:e=>{let t={...e,id:Date.now().toString()};n(e=>[...e,t])},removeFromCart:e=>{n(t=>t.filter(t=>t.id!==e))},clearCart:()=>{n([])},isLoaded:i},children:t})},i=()=>{let e=(0,l.useContext)(a);if(void 0===e)throw Error("useCart must be used within a CartProvider");return e}},8158:(e,t,s)=>{"use strict";s.d(t,{default:()=>v});var r=s(5155),l=s(2115),a=s(6766),n=s(6874),i=s.n(n);let o=e=>(0,r.jsxs)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,children:[(0,r.jsx)("mask",{id:"mask0_109_54",style:{maskType:"alpha"},maskUnits:"userSpaceOnUse",x:"0",y:"0",width:"24",height:"24",children:(0,r.jsx)("rect",{width:"24",height:"24",fill:"#D9D9D9"})}),(0,r.jsx)("g",{mask:"url(#mask0_109_54)",children:(0,r.jsx)("path",{d:"M19.6 21L13.3 14.7C12.8 15.1 12.225 15.4167 11.575 15.65C10.925 15.8833 10.2333 16 9.5 16C7.68333 16 6.14583 15.3708 4.8875 14.1125C3.62917 12.8542 3 11.3167 3 9.5C3 7.68333 3.62917 6.14583 4.8875 4.8875C6.14583 3.62917 7.68333 3 9.5 3C11.3167 3 12.8542 3.62917 14.1125 4.8875C15.3708 6.14583 16 7.68333 16 9.5C16 10.2333 15.8833 10.925 15.65 11.575C15.4167 12.225 15.1 12.8 14.7 13.3L21 19.6L19.6 21ZM9.5 14C10.75 14 11.8125 13.5625 12.6875 12.6875C13.5625 11.8125 14 10.75 14 9.5C14 8.25 13.5625 7.1875 12.6875 6.3125C11.8125 5.4375 10.75 5 9.5 5C8.25 5 7.1875 5.4375 6.3125 6.3125C5.4375 7.1875 5 8.25 5 9.5C5 10.75 5.4375 11.8125 6.3125 12.6875C7.1875 13.5625 8.25 14 9.5 14Z",fill:"#2F4157"})})]}),c=e=>(0,r.jsxs)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,children:[(0,r.jsx)("mask",{id:"mask0_109_57",style:{maskType:"alpha"},maskUnits:"userSpaceOnUse",x:"0",y:"0",width:"24",height:"24",children:(0,r.jsx)("rect",{width:"24",height:"24",fill:"#D9D9D9"})}),(0,r.jsx)("g",{mask:"url(#mask0_109_57)",children:(0,r.jsx)("path",{d:"M7 22C6.45 22 5.97917 21.8042 5.5875 21.4125C5.19583 21.0208 5 20.55 5 20C5 19.45 5.19583 18.9792 5.5875 18.5875C5.97917 18.1958 6.45 18 7 18C7.55 18 8.02083 18.1958 8.4125 18.5875C8.80417 18.9792 9 19.45 9 20C9 20.55 8.80417 21.0208 8.4125 21.4125C8.02083 21.8042 7.55 22 7 22ZM17 22C16.45 22 15.9792 21.8042 15.5875 21.4125C15.1958 21.0208 15 20.55 15 20C15 19.45 15.1958 18.9792 15.5875 18.5875C15.9792 18.1958 16.45 18 17 18C17.55 18 18.0208 18.1958 18.4125 18.5875C18.8042 18.9792 19 19.45 19 20C19 20.55 18.8042 21.0208 18.4125 21.4125C18.0208 21.8042 17.55 22 17 22ZM6.15 6L8.55 11H15.55L18.3 6H6.15ZM5.2 4H19.95C20.3333 4 20.625 4.17083 20.825 4.5125C21.025 4.85417 21.0333 5.2 20.85 5.55L17.3 11.95C17.1167 12.2833 16.8708 12.5417 16.5625 12.725C16.2542 12.9083 15.9167 13 15.55 13H8.1L7 15H19V17H7C6.25 17 5.68333 16.6708 5.3 16.0125C4.91667 15.3542 4.9 14.7 5.25 14.05L6.6 11.6L3 4H1V2H4.25L5.2 4Z",fill:"#2F4157"})})]}),d=e=>(0,r.jsxs)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,children:[(0,r.jsx)("path",{d:"M20 21V19C20 17.9391 19.5786 16.9217 18.8284 16.1716C18.0783 15.4214 17.0609 15 16 15H8C6.93913 15 5.92172 15.4214 5.17157 16.1716C4.42143 16.9217 4 17.9391 4 19V21",stroke:e.fill||"#2F4156",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",fill:"none"}),(0,r.jsx)("path",{d:"M12 11C14.2091 11 16 9.20914 16 7C16 4.79086 14.2091 3 12 3C9.79086 3 8 4.79086 8 7C8 9.20914 9.79086 11 12 11Z",stroke:e.fill||"#2F4156",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",fill:"none"})]});var h=s(9576),x=s(5699),u=s(3160),m=s(1659);function f(){let[e,t]=(0,l.useState)(""),[s,n]=(0,l.useState)([]),[o,c]=(0,l.useState)(!1),d=(0,l.useRef)(null);return(0,l.useEffect)(()=>{let e=e=>{d.current&&!d.current.contains(e.target)&&c(!1)};return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[]),(0,l.useEffect)(()=>{if(e.length<2){n([]),c(!1);return}let t=setTimeout(()=>{fetch("http://localhost:8080/catalog/search?query=".concat(encodeURIComponent(e))).then(e=>e.json()).then(e=>{let t=e.items||[];n(t),c(t.length>0)}).catch(e=>{console.error("Search error:",e),n([])})},300);return()=>clearTimeout(t)},[e]),(0,r.jsxs)("div",{className:"relative w-full max-w-xl mx-auto",ref:d,children:[(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)("input",{type:"text",value:e,onChange:e=>t(e.target.value),onFocus:()=>e.length>=2&&c(!0),placeholder:"Пошук товарів за назвою...",className:"w-full px-5 py-3 rounded-2xl border border-gray-200 bg-white text-navy focus:outline-none focus:ring-2 focus:ring-teal/20 focus:border-teal transition-all shadow-sm"}),(0,r.jsx)("div",{className:"absolute right-4 top-3.5 text-gray-400",children:(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})})]}),o&&(0,r.jsx)("div",{className:"absolute z-50 w-full mt-2 bg-white rounded-2xl shadow-xl border border-gray-100 overflow-hidden max-h-[400px] overflow-y-auto",children:s.length>0?(0,r.jsx)("div",{className:"flex flex-col",children:s.map(e=>{let t=(e=>{switch(e.name){case"SOUVENIR":return"/souvenirs";case"WALLPAPER":default:return"/wallpapers";case"PRINTING":return"/printings"}})(e.productType),s="".concat(t,"/").concat(e.slug);return(0,r.jsxs)(i(),{href:s,onClick:()=>c(!1),className:"flex items-center gap-4 px-4 py-3 hover:bg-gray-50 transition-colors border-b border-gray-50 last:border-none",children:[e.image&&(0,r.jsx)("div",{className:"relative w-10 h-10 flex-shrink-0",children:(0,r.jsx)(a.default,{src:e.image.startsWith("/")?"http://localhost:8080".concat(e.image):e.image,alt:"",fill:!0,className:"object-cover rounded"})}),(0,r.jsxs)("div",{className:"flex flex-col",children:[(0,r.jsx)("span",{className:"font-semibold text-navy text-sm",children:e.name}),(0,r.jsxs)("span",{className:"text-xs text-gray-400",children:["Артикул: ",e.article]})]}),(0,r.jsxs)("div",{className:"ml-auto text-teal font-bold text-sm whitespace-nowrap",children:[e.salePrice||e.basePrice," грн"]})]},e.id)})}):(0,r.jsx)("div",{className:"px-5 py-4 text-gray-500 text-sm italic",children:"Нічого не знайдено"})})]})}let g={width:24,height:24,fill:"#2F4156"},p=[{label:"ФОТОШПАЛЕРИ",href:"/wallpapers",subcategories:["Фотошпалери в дитячу","Фотошпалери до вітальні","Фотошпалери на кухню","3Д фотошпалери","Природа","Квіти"]},{label:"Сувеніри",href:"/souvenirs",subcategories:[]},{label:"Поліграфія",href:"/printing",subcategories:[]}],v=()=>{let[e,t]=l.useState(p[0].label),{user:s,logout:n}=(0,h.A)();return(0,r.jsxs)(x.EN,{as:"nav",className:"bg-white text-black w-full",children:[(0,r.jsx)("div",{className:"w-full px-4 sm:px-8 lg:px-16 xl:px-32",children:(0,r.jsxs)("div",{className:"flex h-20 items-center justify-between relative",children:[(0,r.jsxs)("div",{className:"flex items-center gap-6",children:[(0,r.jsxs)(x._q,{className:"inline-flex items-center justify-center rounded-md p-2 lg:hidden focus:outline-none focus:ring-2 focus:ring-inset focus:ring-navy",children:[(0,r.jsx)("span",{className:"sr-only",children:"Open main menu"}),(0,r.jsx)("svg",{className:"block h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"#2F4156",strokeWidth:"2",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4 6h16M4 12h16M4 18h16"})})]}),(0,r.jsx)(i(),{href:"/",className:"flex items-center flex-shrink-0",children:(0,r.jsx)(a.default,{src:"/logo.png",alt:"Logo",width:92,height:44})})]}),(0,r.jsx)("div",{className:"hidden lg:block flex-1 max-w-md mx-4",children:(0,r.jsx)(f,{})}),(0,r.jsx)("div",{className:"hidden lg:flex flex-1 justify-center",children:(0,r.jsx)("div",{className:"flex gap-6 uppercase",children:p.map(e=>(0,r.jsx)(i(),{href:e.href,className:"hover:text-navy transition-colors",children:e.label},e.label))})}),(0,r.jsxs)("div",{className:"flex items-center gap-6",children:[(0,r.jsx)(o,{...g}),s?(0,r.jsxs)(u.W1,{as:"div",className:"relative",children:[(0,r.jsxs)(u.IU,{className:"flex items-center gap-2 focus:outline-none",children:[(0,r.jsx)(d,{...g}),(0,r.jsx)("span",{className:"hidden sm:block text-sm font-medium text-navy truncate max-w-[100px]",children:s.username})]}),(0,r.jsx)(m.e,{enter:"transition ease-out duration-100",enterFrom:"transform opacity-0 scale-95",enterTo:"transform opacity-100 scale-100",leave:"transition ease-in duration-75",leaveFrom:"transform opacity-100 scale-100",leaveTo:"transform opacity-0 scale-95",children:(0,r.jsxs)(u.c,{className:"absolute right-0 mt-2 w-48 origin-top-right bg-white rounded-md shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none z-50",children:[(0,r.jsx)(u.Dr,{children:e=>{let{active:t}=e;return(0,r.jsx)(i(),{href:"/user",className:"".concat(t?"bg-gray-100":""," block px-4 py-2 text-sm text-gray-700"),children:"Мій профіль"})}}),(0,r.jsx)(u.Dr,{children:e=>{let{active:t}=e;return(0,r.jsx)("button",{onClick:n,className:"".concat(t?"bg-gray-100":""," block w-full text-left px-4 py-2 text-sm text-gray-700"),children:"Вийти"})}})]})})]}):(0,r.jsx)(i(),{href:"/login",className:"cursor-pointer",children:(0,r.jsx)(d,{...g})}),(0,r.jsx)(i(),{href:"/cart",className:"cursor-pointer",children:(0,r.jsx)(c,{...g})})]})]})}),(0,r.jsxs)(x.kS,{className:"lg:hidden fixed inset-0 z-50 flex",children:[(0,r.jsxs)("div",{className:"relative w-4/5 max-w-xs bg-white h-full shadow-xl flex flex-col animate-slide-in-left",children:[(0,r.jsx)(x._q,{className:"absolute top-6 left-6 text-black p-2","aria-label":"Закрити меню",as:"button",children:(0,r.jsx)("svg",{width:"32",height:"32",fill:"none",viewBox:"0 0 24 24",stroke:"#2F4156",strokeWidth:"2",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})})}),(0,r.jsx)("div",{className:"flex flex-col gap-0 pt-20",children:p.map(s=>(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"w-full flex items-center justify-between px-6 py-4 border-b border-gray-200 text-left text-lg font-semibold text-black uppercase focus:outline-none",children:s.subcategories.length>0?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("a",{href:s.href,className:"flex-1 text-left block hover:text-navy",onClick:r=>{(r.target instanceof SVGElement||r.target instanceof HTMLButtonElement)&&(r.preventDefault(),t(e===s.label?null:s.label))},children:s.label}),(0,r.jsx)("button",{className:"ml-2 p-2 -m-2 flex items-center justify-center",style:{minWidth:40,minHeight:40},onClick:r=>{r.stopPropagation(),t(e===s.label?null:s.label)},tabIndex:0,"aria-label":"Розгорнути підкатегорії",type:"button",children:(0,r.jsx)("svg",{className:"w-5 h-5 transition-transform duration-200 ".concat(e===s.label?"rotate-180":""),fill:"none",stroke:"#2F4156",strokeWidth:"2",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19 9l-7 7-7-7"})})})]}):(0,r.jsx)("a",{href:s.href,className:"flex-1 text-left block",children:s.label})}),s.subcategories.length>0&&e===s.label&&(0,r.jsx)("div",{className:"pl-8 pb-2",children:s.subcategories.map(e=>(0,r.jsx)("a",{href:"#",className:"block py-2 text-black text-base border-b border-gray-200 last:border-b-0",children:e},e))})]},s.label))})]}),(0,r.jsx)("div",{className:"flex-1 bg-black/30"})]})]})}},9576:(e,t,s)=>{"use strict";s.d(t,{A:()=>o,AuthProvider:()=>i});var r=s(5155),l=s(2115),a=s(5695);let n=(0,l.createContext)(void 0),i=e=>{let{children:t}=e,[s,i]=(0,l.useState)(null),o=(0,a.useRouter)();(0,l.useEffect)(()=>{let e=localStorage.getItem("token"),t=localStorage.getItem("user");if(e&&t)try{i(JSON.parse(t))}catch(e){console.error("Failed to parse user data",e),localStorage.removeItem("token"),localStorage.removeItem("user")}},[]);let c=async()=>{let e=localStorage.getItem("token");if(e)try{await fetch("http://localhost:8080/users/logout",{method:"GET",headers:{Authorization:"Bearer ".concat(e)}})}catch(e){console.error("Logout failed on server",e)}localStorage.removeItem("token"),localStorage.removeItem("user"),i(null),o.push("/login")};return(0,r.jsx)(n.Provider,{value:{user:s,login:(e,t)=>{localStorage.setItem("token",e),localStorage.setItem("user",JSON.stringify(t)),i(t)},logout:c,isAuthenticated:!!s},children:t})},o=()=>{let e=(0,l.useContext)(n);if(void 0===e)throw Error("useAuth must be used within a AuthProvider");return e}}},e=>{e.O(0,[572,545,874,766,530,697,441,964,358],()=>e(e.s=6368)),_N_E=e.O()}]);