(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[832],{5378:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});var a=r(5155);r(2115);let s=e=>{let{checked:t,onChange:r,heading:s,desc:l,price:i}=e;return(0,a.jsxs)("label",{className:"flex items-start p-4 rounded-xl border-2 cursor-pointer transition-all ".concat(t?"border-teal bg-teal/5 shadow-sm":"border-gray-100 bg-white hover:border-gray-200 hover:shadow-sm"),children:[(0,a.jsxs)("div",{className:"relative flex items-center justify-center w-5 h-5 mt-1 mr-4",children:[(0,a.jsx)("input",{type:"checkbox",checked:t,onChange:e=>r(e.target.checked),className:"peer appearance-none w-5 h-5 border-2 border-gray-300 rounded-md checked:border-teal checked:bg-teal transition-colors"}),(0,a.jsx)("svg",{className:"absolute w-3.5 h-3.5 text-white opacity-0 peer-checked:opacity-100 transition-opacity pointer-events-none",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:3,children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5 13l4 4L19 7"})})]}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsxs)("div",{className:"flex justify-between items-start mb-1",children:[(0,a.jsx)("div",{className:"font-bold text-lg ".concat(t?"text-teal":"text-navy"),children:s}),(0,a.jsx)("div",{className:"font-bold text-teal ml-4",children:i})]}),(0,a.jsx)("div",{className:"text-gray-500 text-sm leading-relaxed",children:l})]})]})}},6654:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"useMergedRef",{enumerable:!0,get:function(){return s}});let a=r(2115);function s(e,t){let r=(0,a.useRef)(null),s=(0,a.useRef)(null);return(0,a.useCallback)(a=>{if(null===a){let e=r.current;e&&(r.current=null,e());let t=s.current;t&&(s.current=null,t())}else e&&(r.current=l(e,a)),t&&(s.current=l(t,a))},[e,t])}function l(e,t){if("function"!=typeof e)return e.current=t,()=>{e.current=null};{let r=e(t);return"function"==typeof r?r:()=>e(null)}}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},7656:(e,t,r)=>{"use strict";r.d(t,{U:()=>a});let a=e=>{var t;let{product:r,productType:a,selectedFeatures:s,extraFeatures:l,specifications:i,quantity:n,totalPrice:c}=e,d=(l||[]).filter(e=>s[e.id]).map(e=>{var t;return{id:e.id,label:null!=(t=e.name)?t:"",price:e.price}}),o=(null==(t=r.image)?void 0:t.startsWith("/"))?"".concat("http://localhost:8080").concat(r.image):r.image;return{productId:r.id,productType:a,title:r.name,code:r.article,imageUrl:o,specifications:i,options:d,quantity:n,price:r.salePrice||r.basePrice,total:c}}},7658:(e,t,r)=>{Promise.resolve().then(r.bind(r,9339))},8088:(e,t,r)=>{"use strict";r.d(t,{CartProvider:()=>i,_:()=>n});var a=r(5155),s=r(2115);let l=(0,s.createContext)(void 0),i=e=>{let{children:t}=e,[r,i]=(0,s.useState)([]),[n,c]=(0,s.useState)(!1);return(0,s.useEffect)(()=>{let e=localStorage.getItem("cart");if(e)try{i(JSON.parse(e))}catch(e){console.error("Failed to parse cart from local storage",e)}c(!0)},[]),(0,s.useEffect)(()=>{localStorage.setItem("cart",JSON.stringify(r))},[r]),(0,a.jsx)(l.Provider,{value:{items:r,addToCart:e=>{let t={...e,id:Date.now().toString()};i(e=>[...e,t])},removeFromCart:e=>{i(t=>t.filter(t=>t.id!==e))},clearCart:()=>{i([])},isLoaded:n},children:t})},n=()=>{let e=(0,s.useContext)(l);if(void 0===e)throw Error("useCart must be used within a CartProvider");return e}},9339:(e,t,r)=>{"use strict";r.d(t,{default:()=>u});var a=r(5155),s=r(2115),l=r(6766);function i(e){let{label:t,value:r,onChange:s,min:l=1,max:i=9999,unit:n="см",icon:c}=e;return(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("div",{className:"text-sm text-gray-500 mb-2 font-medium uppercase tracking-wider",children:t}),(0,a.jsxs)("div",{className:"flex items-center bg-gray-50 border border-gray-200 rounded-xl px-4 py-3 focus-within:ring-2 focus-within:ring-teal/20 focus-within:border-teal transition-all",children:[c&&(0,a.jsx)("div",{className:"text-gray-400 mr-3",children:c}),(0,a.jsx)("input",{type:"number",value:r,min:l,max:i,onChange:e=>s(Number(e.target.value)),className:"w-full bg-transparent text-navy font-bold text-lg outline-none"}),(0,a.jsx)("div",{className:"text-gray-400 font-medium ml-2",children:n})]}),(0,a.jsxs)("div",{className:"text-xs text-gray-400 mt-2 text-right",children:["= ",(r/100).toFixed(2)," м"]})]})}function n(e){let{className:t="",...r}=e;return(0,a.jsxs)("svg",{width:"25",height:"12",viewBox:"0 0 25 12",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:t,...r,children:[(0,a.jsx)("path",{d:"M25 6L19 12L17.6 10.6L21.2 7H12V5H21.2L17.6 1.4L19 0L25 6Z",fill:"currentColor"}),(0,a.jsx)("path",{d:"M0 6L6 0L7.4 1.4L3.8 5H13V7H3.8L7.4 10.6L6 12L0 6Z",fill:"currentColor"})]})}function c(e){let{className:t="",...r}=e;return(0,a.jsxs)("svg",{width:"12",height:"25",viewBox:"0 0 12 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:t,...r,children:[(0,a.jsx)("path",{d:"M6 25L0 19L1.4 17.6L5 21.2V12H7V21.2L10.6 17.6L12 19L6 25Z",fill:"currentColor"}),(0,a.jsx)("path",{d:"M6 0L12 6L10.6 7.4L7 3.8V13H5V3.8L1.4 7.4L0 6L6 0Z",fill:"currentColor"})]})}var d=r(5378);let o=e=>{let{label:t,desc:r,checked:s,onChange:l}=e;return(0,a.jsxs)("label",{className:"flex items-start p-4 rounded-xl border-2 cursor-pointer transition-all ".concat(s?"border-teal bg-teal/5 shadow-sm":"border-gray-100 bg-white hover:border-gray-200 hover:shadow-sm"),children:[(0,a.jsxs)("div",{className:"relative flex items-center justify-center w-5 h-5 mt-1 mr-4",children:[(0,a.jsx)("input",{type:"radio",name:"material",checked:s,onChange:l,className:"peer appearance-none w-5 h-5 border-2 border-gray-300 rounded-full checked:border-teal checked:bg-teal transition-colors"}),(0,a.jsx)("div",{className:"absolute w-2 h-2 bg-white rounded-full opacity-0 peer-checked:opacity-100 transition-opacity"})]}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("div",{className:"font-bold text-lg mb-1 ".concat(s?"text-teal":"text-navy"),children:t}),(0,a.jsx)("div",{className:"text-gray-500 text-sm leading-relaxed",children:r})]})]})};var x=r(8088),m=r(1530),h=r(7656);let u=e=>{var t,r;let{product:u,globalFeatures:f,productType:b}=e,{addToCart:p}=(0,x._)(),[g,v]=(0,s.useState)(300),[j,y]=(0,s.useState)(250),[N,w]=(0,s.useState)(u.materials&&u.materials.length>0?Array.from(u.materials)[0].id:""),[L,k]=(0,s.useState)({}),C=()=>{let e=g*j/1e4,t=(u.salePrice||u.basePrice)*e;return null==f||f.forEach(r=>{L[r.id]&&(r.price<100?t+=r.price*e:t+=r.price)}),Math.round(t)};return(0,a.jsx)("div",{className:"flex flex-col px-4 sm:px-8 md:px-[clamp(2rem,6vw,8rem)] py-12 bg-gray-50 min-h-screen",children:(0,a.jsxs)("div",{className:"flex flex-col lg:flex-row gap-8 xl:gap-16",children:[(0,a.jsxs)("div",{className:"flex-1 flex flex-col",children:[(0,a.jsx)("div",{className:"bg-white rounded-2xl p-6 shadow-sm border border-gray-100 mb-8",children:(0,a.jsx)("div",{className:"relative aspect-[4/3] rounded-xl overflow-hidden bg-gray-100",children:(0,a.jsx)(l.default,{src:(null==(t=u.image)?void 0:t.startsWith("/"))?"http://localhost:8080".concat(u.image):u.image||"",alt:u.name,fill:!0,className:"object-cover"})})}),(0,a.jsxs)("div",{className:"hidden lg:block bg-white rounded-2xl p-8 shadow-sm border border-gray-100",children:[(0,a.jsx)("h3",{className:"font-bold text-xl text-navy mb-4",children:"Характеристики"}),(0,a.jsxs)("ul",{className:"space-y-3 text-gray-600",children:[(0,a.jsxs)("li",{className:"flex justify-between border-b border-gray-100 pb-2",children:[(0,a.jsx)("span",{children:"Щільність"}),(0,a.jsxs)("span",{className:"font-medium text-navy",children:[u.density," г/м\xb2"]})]}),(0,a.jsxs)("li",{className:"flex justify-between border-b border-gray-100 pb-2",children:[(0,a.jsx)("span",{children:"Вологостійкість"}),(0,a.jsx)("span",{className:"font-medium text-navy",children:u.waterproof?"Так":"Ні"})]}),(0,a.jsxs)("li",{className:"flex justify-between border-b border-gray-100 pb-2",children:[(0,a.jsx)("span",{children:"Приміщення"}),(0,a.jsx)("span",{className:"font-medium text-navy",children:null==(r=u.rooms)?void 0:r.join(", ")})]})]})]})]}),(0,a.jsx)("div",{className:"lg:w-[500px] xl:w-[550px] flex-shrink-0",children:(0,a.jsx)("div",{className:"sticky top-24 space-y-6",children:(0,a.jsxs)("div",{className:"bg-white rounded-2xl p-8 shadow-sm border border-gray-100",children:[(0,a.jsx)("h1",{className:"text-3xl font-bold text-navy mb-2",children:u.name}),(0,a.jsxs)("div",{className:"text-gray-400 text-sm font-medium mb-6",children:["Артикул: ",u.article]}),(0,a.jsxs)("div",{className:"mb-8",children:[(0,a.jsx)("h3",{className:"font-bold text-lg text-navy mb-4",children:"Розміри стіни"}),(0,a.jsxs)("div",{className:"flex gap-4",children:[(0,a.jsx)(i,{label:"Ширина",value:g,onChange:v,unit:"см",icon:(0,a.jsx)(n,{})}),(0,a.jsx)(i,{label:"Висота",value:j,onChange:y,unit:"см",icon:(0,a.jsx)(c,{})})]})]}),(0,a.jsxs)("div",{className:"mb-8",children:[(0,a.jsx)("h3",{className:"font-bold text-lg text-navy mb-4",children:"Матеріал"}),(0,a.jsx)("div",{className:"space-y-3",children:Array.from(u.materials||[]).map(e=>(0,a.jsx)(o,{label:e.name,desc:e.description,checked:N===e.id,onChange:()=>w(e.id)},e.id))})]}),(0,a.jsxs)("div",{className:"mb-8",children:[(0,a.jsx)("h3",{className:"font-bold text-lg text-navy mb-4",children:"Додаткові опції"}),(0,a.jsx)("div",{className:"space-y-3",children:f.map(e=>(0,a.jsx)(d.A,{checked:L[e.id],onChange:()=>(e=>{k(t=>({...t,[e]:!t[e]}))})(e.id),heading:e.name,price:"+".concat(e.price," грн"),desc:e.description},e.id))})]}),(0,a.jsxs)("div",{className:"border-t border-gray-100 pt-6",children:[(0,a.jsxs)("div",{className:"flex justify-between items-end mb-6",children:[(0,a.jsx)("span",{className:"text-gray-500 font-medium",children:"Загальна вартість:"}),(0,a.jsxs)("div",{className:"text-3xl font-extrabold text-navy",children:[C()," грн"]})]}),(0,a.jsx)("button",{onClick:()=>{p((0,h.U)({product:u,productType:b,selectedFeatures:L,extraFeatures:f,specifications:{width:g.toString(),height:j.toString(),material_id:N},quantity:1,totalPrice:C()})),m.Ay.success("Товар додано до кошика!")},className:"w-full bg-teal text-white font-bold rounded-xl py-4 text-lg hover:bg-navy transition-all shadow-lg shadow-teal/20",children:"ДОДАТИ В КОШИК"})]})]})})})]})})}}},e=>{e.O(0,[766,530,441,964,358],()=>e(e.s=7658)),_N_E=e.O()}]);